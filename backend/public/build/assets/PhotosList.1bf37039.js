import{B as m}from"./BasicFileUploader.1d48cfd1.js";import{p as n,T as h}from"./TrenchDevsAdminLayout.cbafbeae.js";import{I as f}from"./InertiaTable.2b6858a3.js";import{r as d,a as l,j as o,u,b as y,F as b,d as g}from"./app.c0efc5b0.js";import{C as v}from"./Card.1274746e.js";import{T as x}from"./trash.b851a746.js";function k(r,t){if(r==null)return{};var a=w(r,t),s,e;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(e=0;e<i.length;e++)s=i[e],!(t.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,s)||(a[s]=r[s]))}return a}function w(r,t){if(r==null)return{};var a={},s=Object.keys(r),e,i;for(i=0;i<s.length;i++)e=s[i],!(t.indexOf(e)>=0)&&(a[e]=r[e]);return a}var c=d.exports.forwardRef(function(r,t){var a=r.color,s=a===void 0?"currentColor":a,e=r.size,i=e===void 0?24:e,p=k(r,["color","size"]);return l("svg",{ref:t,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...p,children:[o("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),o("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})});c.propTypes={color:n.exports.string,size:n.exports.oneOfType([n.exports.string,n.exports.number])};c.displayName="Copy";const j=c;function I(){const{data:r}=u().props,t=y({image:null}),a=async e=>{await t.setData("image",e[0]||"")};d.exports.useEffect(()=>{t.data.image&&(t.post("/dashboard/photos/upload",{preserveScroll:e=>Object.keys(e.props.errors).length}),t.reset())},[t.data]);const s=async e=>{confirm("Are you sure you want to delete this photo?")&&g.Inertia.post(`/dashboard/photos/delete/${e}`,{preserveScroll:i=>Object.keys(i.props.errors).length})};return o(h,{children:l(v,{header:"All Photos",children:[o("div",{className:"row mb-5",children:l("div",{className:"col",children:[o(m,{onUpload:a}),t.hasErrors?o("div",{className:"text-danger text-center",children:t.errors.image}):""]})}),o("div",{className:"row",children:o("div",{className:"col",children:o(f,{links:r.links,rows:r.data,columns:[{key:"",label:"Image",render:e=>o("img",{className:"img-fluid",style:{maxHeight:"50px"},src:e.s3_url,alt:e.identifier})},{key:"original_name",label:"Original Name"},{key:"identifier",label:"Identifier"},{key:"s3_url",label:"S3 URL"},{key:"",style:{width:"10%"},label:"Actions",render:e=>l(b,{children:[o("button",{className:"mr-1 btn btn-xs btn-info",onClick:()=>navigator.clipboard.writeText(e.s3_url||""),children:o(j,{size:14})}),o("button",{className:"btn btn-xs btn-danger",onClick:()=>s(e.id),children:o(x,{size:14})})]})}]})})})]})})}export{I as default};
