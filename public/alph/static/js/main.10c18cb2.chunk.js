(this["webpackJsonptrenchdevs-fe"]=this["webpackJsonptrenchdevs-fe"]||[]).push([[0],{417:function(e,t,n){},418:function(e,t,n){},500:function(e,t,n){},548:function(e,t,n){"use strict";n.r(t);var a,c=n(0),s=n.n(c),r=n(19),i=n.n(r),l=(n(417),n(418),n(62)),o=n(76),d=n(52),j=n(143),b=n(73),u=n.n(b),h=n(391),m=function e(){Object(h.a)(this,e)};m.INIT="/webapi/init",m.LOGIN="/auth/login",m.LOGOUT="/auth/logout",m.GET_USERS="/webapi/users/all",m.GET_EVENTS="/webapi/events/all",m.GET_EVENT="/webapi/events/details",m.UPSERT_EVENT="/webapi/events/upsert";var O=Object(j.b)("auth/logout",(function(){return u.a.post(m.LOGOUT).then((function(e){return e.data}))})),v=Object(j.b)("auth/init",(function(){return u.a.get(m.INIT,{withCredentials:!0}).then((function(e){return e.data}))})),x=Object(j.c)({name:"init",initialState:{user:{},site:{}},reducers:{login:function(e,t){var n=t.payload;return Object(d.a)({},n)}},extraReducers:(a={},Object(o.a)(a,v.pending,(function(e,t){return{}})),Object(o.a)(a,v.rejected,(function(e,t){return{}})),Object(o.a)(a,v.fulfilled,(function(e,t){return Object(d.a)({},t.payload)})),Object(o.a)(a,O.pending,(function(e,t){return{}})),Object(o.a)(a,O.rejected,(function(e,t){return{}})),Object(o.a)(a,O.fulfilled,(function(e,t){return{}})),a)}),p=x.actions,f=(p.login,p.clearUserData,x.reducer),g=n(587),N=n(588),w=n(589),E=n(590),_=n(591),T=n(592),y=n(142),C=n(31),S=n(266),k=n.n(S),D=n(7);function L(e){var t=e.endpoint,n=e.columns,a=e.title,c=e.options,s=void 0===c?{search:!1,filtering:!0,sorting:!1}:c,r=e.actions,i=void 0===r?[]:r;return Object(D.jsx)(k.a,{options:s,columns:n,data:function(e){return new Promise((function(n,a){u.a.post(t,e).then((function(e){n(e.data)}))}))},title:a,actions:i})}var U=n(221);function I(e){var t=e.children,n=e.header,a=void 0===n?null:n,c=e.subHeader,s=void 0===c?null:c,r=Object(l.d)((function(e){return e.init})),i=r.server,o=r.site;return Object(D.jsxs)("div",{className:"StandardContainer bg-white p-4",children:[Object(D.jsxs)("div",{className:"d-flex justify-content-between align-items-sm-center flex-column flex-sm-row mb-4 border-bottom pb-3",children:[Object(D.jsx)(U.a,{children:Object(D.jsxs)("title",{children:[o.company_name||"TrenchDevs"," - ",a]})}),Object(D.jsxs)("div",{className:"mr-4 mb-3 mb-sm-0",children:[Object(D.jsx)("h6",{className:"mb-0",children:a}),Object(D.jsxs)("div",{className:"small",children:[Object(D.jsx)("span",{className:"font-weight-500 text-primary"})," ",s]})]}),i&&Object(D.jsxs)("div",{className:"mr-4 mb-3 mb-sm-0",children:[Object(D.jsx)("h6",{className:"mb-0",children:"Server Time (UTC)"}),Object(D.jsxs)("div",{className:"small",children:[Object(D.jsx)("span",{className:"font-weight-500 text-primary"})," ",i.time||"N/A"]})]})]}),t]})}function F(){return Object(D.jsx)(I,{header:"Participants",subHeader:"All participants",children:Object(D.jsx)(L,{title:"Users",endpoint:m.GET_USERS,columns:[{title:"First Name",field:"first_name"},{title:"Last Name",field:"last_name"},{title:"Email",field:"email"},{title:"Username",field:"username"}],actions:[{icon:"add",tooltip:"Save User",isFreeAction:!0,onClick:function(e,t){alert("clicked")}}]})})}n(500);function P(){var e=Object(C.g)();return Object(D.jsx)("div",{children:Object(D.jsx)("div",{style:{maxWidth:"100%"},children:Object(D.jsx)(L,{title:"All Events",endpoint:m.GET_EVENTS,columns:[{title:"Name",field:"name"},{title:"Description",field:"description"},{title:"Location",field:"location"},{title:"From",field:"from_date"},{title:"To",field:"to_date"}],actions:[{icon:"add",tooltip:"Save Event",isFreeAction:!0,onClick:function(t,n){return e.push("/alph/events/upsert")}},{icon:"edit",tooltip:"Edit Event",onClick:function(t,n){return e.push("/alph/events/upsert/".concat(n.id))}}]})})})}function A(){return Object(D.jsx)(I,{header:"Events",children:Object(D.jsx)(P,{})})}var G=n(282),M=n(593),R=n(396),Y=n(586),V=n(95),J=n(229),H=n(281),B=n.n(H),W=n(395),z=n.n(W);function $(e){var t=e.selected,n=e.onChange,a=Object(J.a)(e,["selected","onChange"]),c=null;return t&&Object(V.isString)(t)&&(c=B()(t,"YYYY-MM-DD").toDate()),Object(D.jsx)(z.a,Object(d.a)({className:"form-control",selected:c||null,onChange:function(e){Object(V.isFunction)(n)&&(e=Object(V.isObject)(e)?B()(e).format("YYYY-MM-DD"):null,n(e))},dateFormat:"MMMM dd, yyyy h:mm aa"},a))}var q=n(115),K=n(585),Q=n(595);function X(e){var t=e.children,n=e.type,a=void 0===n?null:n,c=Object(J.a)(e,["children","type"]),s=null;switch(a){case"save":case"plus":s=Object(D.jsx)(K.a,Object(d.a)({},{size:20,className:"pr-1"}))}return Object(D.jsxs)(Q.a,Object(d.a)(Object(d.a)({variant:"success"},c),{},{children:[s,t]}))}function Z(){var e=Object(C.h)().id,t=!!+e,n=Object(c.useState)(null),a=Object(G.a)(n,2),s=a[0],r=a[1],i=Object(c.useState)({name:"",location:"",description:"",from_date:"",to_date:null}),l=Object(G.a)(i,2),j=l[0],b=l[1];function h(e){b(Object(d.a)(Object(d.a)({},j),{},Object(o.a)({},e.target.name,e.target.value)))}return Object(c.useEffect)((function(){return t&&u.a.get("".concat(m.GET_EVENT,"/").concat(e)).then((function(e){var t=Object(V.get)(e,"data",{}),n=t.data,a=t.status,c=t.message;"success"!==a&&(q.b.error(c),r("/alph/events/")),b(n)})).catch((function(){return q.b.error("There was a problem fetching event")})),function(){return console.log("UNMOUNTED")}}),[]),s?Object(D.jsx)(C.a,{to:s}):Object(D.jsxs)(I,{header:t?'Update Event "'.concat(j.name,'"'):"Create a new Event",children:[Object(D.jsxs)(M.a.Row,{className:"mb-3",children:[Object(D.jsxs)(R.a,{md:6,children:[Object(D.jsx)(M.a.Label,{children:"Name"}),Object(D.jsx)(M.a.Control,{name:"name",onChange:h,type:"text",value:j.name,placeholder:"Event Name"})]}),Object(D.jsxs)(R.a,{md:6,children:[Object(D.jsxs)(M.a.Label,{children:["Location ",Object(D.jsx)("em",{children:"(Where the event takes place)"})]}),Object(D.jsx)(M.a.Control,{name:"location",onChange:h,type:"text",value:j.location,placeholder:"Location"})]})]}),Object(D.jsxs)(M.a.Row,{className:"mb-3",children:[Object(D.jsxs)(R.a,{md:6,children:[Object(D.jsx)(M.a.Label,{children:"From Date"}),Object(D.jsx)($,{placeholder:"From Date",selected:j.from_date,onChange:function(e){return b(Object(d.a)(Object(d.a)({},j),{},{from_date:e}))}})]}),Object(D.jsxs)(R.a,{md:6,children:[Object(D.jsx)(M.a.Label,{children:"To Date"}),Object(D.jsx)($,{selected:j.to_date,onChange:function(e){return b(Object(d.a)(Object(d.a)({},j),{},{to_date:e}))}})]})]}),Object(D.jsxs)(M.a.Group,{controlId:"description",children:[Object(D.jsx)(M.a.Label,{children:"Description"}),Object(D.jsx)(M.a.Control,{name:"description",onChange:h,as:"textarea",value:j.description,placeholder:"Product Description",rows:3})]}),Object(D.jsx)(Y.a,{children:Object(D.jsx)(R.a,{md:12,className:"text-right",children:Object(D.jsx)(X,{type:"save",onClick:function(){u.a.post(m.UPSERT_EVENT,j).then((function(e){var t=Object(V.get)(e,"data",{}),n=t.status,a=t.message;"success"===n?(q.b.success(a),r("/alph/events/")):q.b.error(a)}))},children:Object(D.jsx)("span",{children:"Save"})})})})]})}function ee(){return Object(D.jsx)(I,{header:"Dashboard",children:"@dashboard"})}function te(e){var t=e.children;return Object(D.jsxs)("div",{children:[Object(D.jsx)(ce,{}),Object(D.jsx)("div",{id:"layoutSidenav",children:Object(D.jsxs)(y.a,{children:[Object(D.jsx)(ne,{}),Object(D.jsx)(ae,{rootChildren:t})]})})]})}function ne(){var e=Object(l.d)((function(e){return e.init})).user;return Object(D.jsx)("div",{id:"layoutSidenav_nav",children:Object(D.jsxs)("nav",{className:"sidenav shadow-right sidenav-light",children:[Object(D.jsx)("div",{className:"sidenav-menu",children:Object(D.jsxs)("div",{className:"nav accordion",id:"accordionSidenav",children:[Object(D.jsx)("div",{className:"sidenav-menu-heading",children:"Core"}),Object(D.jsxs)(y.b,{to:"/alph/",className:"nav-link collapsed",children:[Object(D.jsx)("div",{className:"nav-link-icon",children:Object(D.jsx)(g.a,{})}),"Dashboard"]}),Object(D.jsxs)(y.b,{to:"/alph/users",className:"nav-link collapsed",children:[Object(D.jsx)("div",{className:"nav-link-icon",children:Object(D.jsx)(N.a,{})}),"Participants"]}),Object(D.jsxs)(y.b,{to:"/alph/events",className:"nav-link collapsed",children:[Object(D.jsx)("div",{className:"nav-link-icon",children:Object(D.jsx)(w.a,{})}),"Events"]}),Object(D.jsxs)("a",{className:"nav-link collapsed",target:"_blank",rel:"noreferrer",href:"https://github.com/trenchdevs/trenchdevs/issues",children:[Object(D.jsx)("div",{className:"nav-link-icon",children:Object(D.jsx)(E.a,{})}),"Issues"]})]})}),Object(D.jsx)("div",{className:"sidenav-footer",children:Object(D.jsxs)("div",{className:"sidenav-footer-content text-left",children:[Object(D.jsxs)("div",{className:"sidenav-footer-subtitle",children:["Logged in as: ",Object(D.jsx)("br",{})," ",e.first_name," ",e.last_name]}),Object(D.jsx)("div",{className:"sidenav-footer-title"})]})})]})})}function ae(){return Object(D.jsxs)("div",{id:"layoutSidenav_content",children:[Object(D.jsx)("main",{children:Object(D.jsx)("div",{className:"container-fluid mt-3",children:Object(D.jsx)("div",{className:"text-left",children:Object(D.jsxs)(C.d,{children:[Object(D.jsx)(C.b,{exact:!0,path:"/alph/users",render:function(){return Object(D.jsx)(F,{})}}),Object(D.jsx)(C.b,{exact:!0,path:"/alph/events",render:function(){return Object(D.jsx)(A,{})}}),Object(D.jsx)(C.b,{exact:!0,path:"/alph/events/upsert/:id?",render:function(){return Object(D.jsx)(Z,{})}}),Object(D.jsx)(C.b,{path:"/alph/",render:function(){return Object(D.jsx)(ee,{})}}),Object(D.jsx)(C.b,{path:"/",render:function(){return Object(D.jsx)(ee,{})}})]})})})}),Object(D.jsx)("footer",{className:"footer mt-auto footer-light",children:Object(D.jsx)("div",{className:"container-fluid",children:Object(D.jsxs)("div",{className:"row",children:[Object(D.jsx)("div",{className:"col-md-6 small text-left",children:"Copyright \xa9 TrenchDevs"}),Object(D.jsxs)("div",{className:"col-md-6 text-md-right small",children:[Object(D.jsx)("a",{href:"https://trenchdevs.org/documents/privacy",target:"_blank",rel:"noreferrer",children:"Privacy Policy"}),Object(D.jsx)("span",{className:"mx-1",children:"\xb7"}),Object(D.jsx)("a",{href:"https://trenchdevs.org/documents/tnc",target:"_blank",rel:"noreferrer",children:"Terms & Conditions"})]})]})})})]})}function ce(){var e=Object(l.d)((function(e){return e.init})),t=e.site,n=e.user,a=n.avatar_url||"http://trenchdevs.org/assets/img/avataaars.svg";return Object(D.jsxs)("nav",{className:"topnav navbar navbar-expand shadow navbar-light bg-white",id:"sidenavAccordion",children:[Object(D.jsxs)("a",{className:"navbar-brand d-none d-sm-block",href:"/",children:[t.company_name," PORTAL"]}),Object(D.jsx)("button",{className:"btn btn-icon btn-transparent-light order-1 order-lg-0 mr-lg-2",id:"sidebarToggle",onClick:function(){return window.$("body").toggleClass("sidenav-toggled")},children:Object(D.jsx)(_.a,{})}),Object(D.jsx)("ul",{className:"navbar-nav align-items-center ml-auto",children:Object(D.jsxs)("li",{className:"nav-item dropdown no-caret mr-3 dropdown-user",children:[Object(D.jsx)("span",{className:"btn btn-icon btn-transparent-dark dropdown-toggle",id:"navbarDropdownUserImage",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:Object(D.jsx)("img",{alt:"Avatar",className:"img-fluid",src:a})}),Object(D.jsxs)("div",{id:"navbarDropdownUserImage",className:"dropdown-menu dropdown-menu-right border-0 shadow animated--fade-in-up","aria-labelledby":"navbarDropdownUserImage",children:[Object(D.jsxs)("h6",{className:"dropdown-header d-flex align-items-center",children:[Object(D.jsx)("img",{alt:"Avatar",className:"dropdown-user-img",src:a}),Object(D.jsxs)("div",{className:"dropdown-user-details",children:[Object(D.jsxs)("div",{className:"dropdown-user-details-name",children:[n.first_name," ",n.last_name]}),Object(D.jsxs)("div",{className:"dropdown-user-details-email",children:[n.email,n.username&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("br",{}),n.username]})]})]})]}),Object(D.jsx)("div",{className:"dropdown-divider"}),Object(D.jsx)("a",{href:"/logout",children:Object(D.jsxs)("button",{type:"submit",className:"dropdown-item",children:[Object(D.jsx)("span",{className:"dropdown-item-icon",children:Object(D.jsx)(T.a,{})}),"Logout"]})})]})]})})]})}n(545),n(546);u.a.defaults.withCredentials=!0;var se=function(){var e=Object(l.d)((function(e){return e.init})),t=e.user,n=e.site,a=Object(l.c)();if(Object(c.useEffect)((function(){a(v())}),[a]),!t||!n)return"loading...";var s=Object(V.get)(n,"full_domain","");return s&&(u.a.defaults.baseURL=s),Object(D.jsxs)("div",{className:"App",children:[Object(D.jsxs)(U.a,{children:[Object(D.jsxs)("title",{children:[n.company_name," Portal"]}),Object(D.jsx)("link",{rel:"icon",href:n.logo||"https://trenchdevs.org/favicon.png"}),Object(D.jsx)("link",{rel:"apple-touch-icon",href:n.logo||"https://trenchdevs.org/favicon.png"})]}),Object(D.jsxs)(te,{children:["Hello ",t.first_name]}),Object(D.jsx)(q.a,{})]})},re=function(e){e&&e instanceof Function&&n.e(6).then(n.bind(null,984)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))},ie=n(51),le={init:f},oe=Object(j.a)({reducer:Object(ie.c)(le),preloadedState:function(){var e={},t=localStorage.getItem("state");return t&&(e=JSON.parse(t)),e}(),devTools:!1});oe.subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(n){}}(oe.getState())}));var de=oe;i.a.render(Object(D.jsx)(s.a.StrictMode,{children:Object(D.jsx)(l.a,{store:de,children:Object(D.jsx)(se,{})})}),document.getElementById("root")),re()}},[[548,1,2]]]);
//# sourceMappingURL=main.10c18cb2.chunk.js.map